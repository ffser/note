# 架构

## 问题

### (2) 微服务的特点 (优缺点), 如何实现服务发现和负载均衡

- 特点
    - 单一职责: 本身是内聚的, 所以微服务通常比较小
    - 自治: 独立部署升级
- 优点
    - 逻辑清晰
    - 简化部署
    - 可扩展
    - 灵活组合
    - 计数异构
    - 高可靠
- 缺点
    - 复杂度高
    - 运维复杂
    - 影响性能
- 服务发现
    - ServiceRegistry, 加入服务时需要注册, 心跳检测服务的存活

### 均衡负载算法有哪些

- URL 散列
- 随机算法
- 轮询与加权轮询
- 哈希算法
- 最小连接与加权最小连接
- IP 地址散列

### 服务发现是怎么实现的
### 熔断是怎么实现的 (熔断原理? 令牌桶? 熔断的三个状态关系?)
### 熔断会影响性能吗? 有遇到过线上发生熔断吗? 不加会怎么样?
### id生成器是怎么实现的, 如何实现全局递增
### 分布式一致性如何博阿正, 存在延迟不一致如何处理, 数据延迟如何处理
### 在面对未知的流量暴增, 可以预先怎么处理
### 如何限流，限流算法，对于ddos攻击怎么处理
### RPC相对于传统的API调用的优点? 如何实现幂等性?
### 有哪些分布式组件是你熟悉的? 简单聊一聊
### cap 是指什么? mysql 满足 cap 中的哪些?
### 分布式锁有哪些方式可以实现? 各有什么优缺点?
### 什么事一致性 hash ? 自己实现一致性 hash, 会用什么数据结构?
### 配置中心有哪些选项？apollo 的架构？怎么无感实现已加载数据更新？
### 服务容灾是如何做的？
### 你们工作中采用的微服务是如何部署的？