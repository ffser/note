# 位运算

## 与 &

两数间的运算

对二进制表示的数的每一位逐一运算

1 & 1 = 1;
1 & 0 = 0;
0 & 0 = 0;

### 快速判断数是否为2的幂

2的幂在二进制中只有一个1
非2的幂有一个以上的1
原理: -x = ~x + 1, x & (-x) = x & (~x + 1) = 保留最右边的1

```
($n & -$n) === $n;
```

## 或 |

1 | 1 = 1;
1 | 0 = 1;
0 | 0 = 0;

## 异或 ^

两位不为相同时才为1

异或的逆运算为本身: a ^ b ^ b = a

1 ^ 1 = 0;
1 ^ 0 = 1;
0 ^ 0 = 0;

## 取反 ~

对一个数的操作, 将二进制数的每一位取反

-x = ~x + 1

## 左移 <<

乘以2

将二进制数左移i位得到的值, 右侧将填0,  

## 右移 >>

除以2

将二进制数右移i位得到的值, 右侧多余的数会被舍弃.

无符号数将在左侧填0;
有符号数将依据符号位决定左侧补0还是补1, 符号位将随着移动